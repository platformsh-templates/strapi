!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).IntlMessageFormat={})}(this,function(e){"use strict";var Xt,t,r,n;function C(e){return e.type===Xt.literal}function E(e){return e.type===Xt.select}function D(e){return e.type===Xt.plural}function F(e){return e&&"object"==typeof e&&1===e.type}(t=Xt=Xt||{})[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound",t[t.tag=8]="tag",(n=r=r||{})[n.number=0]="number",n[n.dateTime=1]="dateTime";var a,o,u=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),er=function(){return(er=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},tr=(o=Error,u(i,o),i.buildMessage=function(e,t){function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function n(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function a(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function o(e){switch(e.type){case"literal":return'"'+n(e.text)+'"';case"class":var t=e.parts.map(function(e){return Array.isArray(e)?a(e[0])+"-"+a(e[1]):a(e)});return"["+(e.inverted?"^":"")+t+"]";case"any":return"any character";case"end":return"end of input";case"other":return e.description}}return"Expected "+function(e){var t,r,n=e.map(o);if(n.sort(),0<n.length){for(r=t=1;t<n.length;t++)n[t-1]!==n[t]&&(n[r]=n[t],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(e)+" but "+((u=t)?'"'+n(u)+'"':"end of input")+" found.";var u},i);function i(e,t,r,n){var a=o.call(this)||this;return a.message=e,a.expected=t,a.found=r,a.location=n,a.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(a,i),a}var f=function(f,e){var t,p={},r={start:Ct},n=Ct,a=function(e){return e.join("")},o=function(e){return er({type:Xt.literal,value:e},Qt())},u="#",i=yt("#",!1),c=function(){return er({type:Xt.pound},Qt())},s=At("tagElement"),l="<",h=yt("<",!1),g="/>",m=yt("/>",!1),d=function(e){return er({type:Xt.literal,value:e.join("")},Qt())},y=function(e,t,r){return e!==r&&dt('Mismatch tag "'+e+'" !== "'+r+'"',mt()),er({type:Xt.tag,value:e,children:t},Qt())},v=function(){return qt.push("openingTag"),!0},A=">",b=yt(">",!1),w=function(e){return qt.pop(),!0},x=function(e){return e},C="</",E=yt("</",!1),D=function(){return qt.push("closingTag"),!0},F=At("argumentElement"),I="{",k=yt("{",!1),_="}",S=yt("}",!1),T=function(e){return er({type:Xt.argument,value:e},Qt())},O=At("numberSkeletonId"),j=/^['\/{}]/,N=vt(["'","/","{","}"],!1,!1),P={type:"any"},R=At("numberSkeletonTokenOption"),L="/",V=yt("/",!1),M=function(e){return e},z=At("numberSkeletonToken"),Z=function(e,t){return{stem:e,options:t}},B=function(e){return er({type:0,tokens:e},Qt())},U="::",G=yt("::",!1),H=function(e){return e},Y=function(){return qt.push("numberArgStyle"),!0},$=function(e){return qt.pop(),e.replace(/\s*$/,"")},q=",",J=yt(",",!1),K="number",Q=yt("number",!1),W=function(e,t,r){return er({type:"number"===t?Xt.number:"date"===t?Xt.date:Xt.time,style:r&&r[2],value:e},Qt())},X="'",ee=yt("'",!1),te=/^[^']/,re=vt(["'"],!0,!1),ne=/^[^a-zA-Z'{}]/,ae=vt([["a","z"],["A","Z"],"'","{","}"],!0,!1),oe=/^[a-zA-Z]/,ue=vt([["a","z"],["A","Z"]],!1,!1),ie=function(e){return er({type:1,pattern:e},Qt())},ce=function(){return qt.push("dateOrTimeArgStyle"),!0},se="date",le=yt("date",!1),fe="time",pe=yt("time",!1),he="plural",ge=yt("plural",!1),me="selectordinal",de=yt("selectordinal",!1),ye="offset:",ve=yt("offset:",!1),Ae=function(e,t,r,n){return er({type:Xt.plural,pluralType:"plural"===t?"cardinal":"ordinal",value:e,offset:r?r[2]:0,options:n.reduce(function(e,t){var r=t.id,n=t.value,a=t.location;return r in e&&dt('Duplicate option "'+r+'" in plural element: "'+gt()+'"',mt()),e[r]={value:n,location:a},e},{})},Qt())},be="select",we=yt("select",!1),xe=function(e,t){return er({type:Xt.select,value:e,options:t.reduce(function(e,t){var r=t.id,n=t.value,a=t.location;return r in e&&dt('Duplicate option "'+r+'" in select element: "'+gt()+'"',mt()),e[r]={value:n,location:a},e},{})},Qt())},Ce="=",Ee=yt("=",!1),De=function(e){return qt.push("select"),!0},Fe=function(e,t){return qt.pop(),er({id:e,value:t},Qt())},Ie=function(e){return qt.push("plural"),!0},ke=function(e,t){return qt.pop(),er({id:e,value:t},Qt())},_e=At("whitespace"),Se=/^[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Te=vt([["\t","\r"]," ",""," "," ",[" "," "],"\u2028","\u2029"," "," ","　"],!1,!1),Oe=At("syntax pattern"),je=/^[!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,Ne=vt([["!","/"],[":","@"],["[","^"],"`",["{","~"],["¡","§"],"©","«","¬","®","°","±","¶","»","¿","×","÷",["‐","‧"],["‰","‾"],["⁁","⁓"],["⁕","⁞"],["←","⑟"],["─","❵"],["➔","⯿"],["⸀","⹿"],["、","〃"],["〈","〠"],"〰","﴾","﴿","﹅","﹆"],!1,!1),Pe=At("optional whitespace"),Re=At("number"),Le="-",Ve=yt("-",!1),Me=function(e,t){return t?e?-t:t:0},ze=At("double apostrophes"),Ze="''",Be=yt("''",!1),Ue=function(){return"'"},Ge=function(e,t){return e+t.replace("''","'")},He=function(e){return(Wt()||"<"!==e)&&"{"!==e&&!(Kt()&&"#"===e)&&!(Jt()&&"}"===e)&&!(!Wt()&&Jt()&&">"===e)},Ye="\n",$e=yt("\n",!1),qe=function(e){return"<"===e||">"===e||"{"===e||"}"===e||Kt()&&"#"===e},Je=At("argNameOrNumber"),Ke=At("validTag"),Qe=At("argNumber"),We="0",Xe=yt("0",!1),et=function(){return 0},tt=/^[1-9]/,rt=vt([["1","9"]],!1,!1),nt=/^[0-9]/,at=vt([["0","9"]],!1,!1),ot=function(e){return parseInt(e.join(""),10)},ut=At("argName"),it=At("tagName"),ct=0,st=0,lt=[{line:1,column:1}],ft=0,pt=[],ht=0;if(void 0!==(e=void 0!==e?e:{}).startRule){if(!(e.startRule in r))throw new Error("Can't start parsing from rule \""+e.startRule+'".');n=r[e.startRule]}function gt(){return f.substring(st,ct)}function mt(){return wt(st,ct)}function dt(e,t){throw t=void 0!==t?t:wt(st,ct),new tr(e,[],"",t)}function yt(e,t){return{type:"literal",text:e,ignoreCase:t}}function vt(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function At(e){return{type:"other",description:e}}function bt(e){var t,r=lt[e];if(r)return r;for(t=e-1;!lt[t];)t--;for(r={line:(r=lt[t]).line,column:r.column};t<e;)10===f.charCodeAt(t)?(r.line++,r.column=1):r.column++,t++;return lt[e]=r}function wt(e,t){var r=bt(e),n=bt(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function xt(e){ct<ft||(ft<ct&&(ft=ct,pt=[]),pt.push(e))}function Ct(){return Et()}function Et(){for(var e=[],t=Dt();t!==p;)e.push(t),t=Dt();return e}function Dt(){var e=function(){var e,t;e=ct,(t=Ft())!==p&&(st=e,t=o(t));return e=t}();return e===p&&(e=function(){var e,t,r,n,a;ht++,e=ct,123===f.charCodeAt(ct)?(t=I,ct++):(t=p,0===ht&&xt(k));e=t!==p?(r=Rt(),r!==p?(n=Zt())!==p?Rt()!==p?(125===f.charCodeAt(ct)?(a=_,ct++):(a=p,0===ht&&xt(S)),a!==p?(st=e,t=T(n)):(ct=e,p)):(ct=e,p):(ct=e,p):(ct=e,p)):(ct=e,p);ht--,e===p&&(t=p,0===ht&&xt(F));return e}())===p&&(e=function(){var e;(e=function(){var e,t,r,n,a,o,u,i,c,s;e=ct,123===f.charCodeAt(ct)?(t=I,ct++):(t=p,0===ht&&xt(k));e=t!==p?(r=Rt(),r!==p?(n=Zt())!==p?Rt()!==p?(44===f.charCodeAt(ct)?(a=q,ct++):(a=p,0===ht&&xt(J)),a!==p?Rt()!==p?(f.substr(ct,6)===K?(o=K,ct+=6):(o=p,0===ht&&xt(Q)),o!==p?Rt()!==p?(u=ct,44===f.charCodeAt(ct)?(i=q,ct++):(i=p,0===ht&&xt(J)),(u=i!==p?(c=Rt())!==p?(s=function(){var e,t,r;e=ct,f.substr(ct,2)===U?(t=U,ct+=2):(t=p,0===ht&&xt(G));e=t!==p?(r=function(){var e,t,r;if(e=ct,t=[],(r=_t())!==p)for(;r!==p;)t.push(r),r=_t();else t=p;t!==p&&(st=e,t=B(t));return e=t}(),r!==p?(st=e,t=H(r)):(ct=e,p)):(ct=e,p);e===p&&(st=e=ct,t=Y(),e=(t=t?void 0:p)!==p?(r=Ft())!==p?(st=e,t=$(r)):(ct=e,p):(ct=e,p));return e}())!==p?i=[i,c,s]:(ct=u,p):(ct=u,p):(ct=u,p))===p&&(u=null),u!==p?(i=Rt())!==p?(125===f.charCodeAt(ct)?(c=_,ct++):(c=p,0===ht&&xt(S)),c!==p?(st=e,t=W(n,o,u)):(ct=e,p)):(ct=e,p):(ct=e,p)):(ct=e,p):(ct=e,p)):(ct=e,p):(ct=e,p)):(ct=e,p):(ct=e,p):(ct=e,p)):(ct=e,p);return e}())===p&&(e=function(){var e,t,r,n,a,o,u,i,c,s;e=ct,123===f.charCodeAt(ct)?(t=I,ct++):(t=p,0===ht&&xt(k));e=t!==p?(r=Rt(),r!==p?(n=Zt())!==p?Rt()!==p?(44===f.charCodeAt(ct)?(a=q,ct++):(a=p,0===ht&&xt(J)),a!==p?Rt()!==p?(f.substr(ct,4)===se?(o=se,ct+=4):(o=p,0===ht&&xt(le)),o===p&&(f.substr(ct,4)===fe?(o=fe,ct+=4):(o=p,0===ht&&xt(pe))),o!==p?Rt()!==p?(u=ct,44===f.charCodeAt(ct)?(i=q,ct++):(i=p,0===ht&&xt(J)),(u=i!==p?(c=Rt())!==p?(s=function(){var e,t,r;e=ct,f.substr(ct,2)===U?(t=U,ct+=2):(t=p,0===ht&&xt(G));e=t!==p?(r=function(){var e,t,r,n;t=e=ct,r=[],(n=St())===p&&(n=Tt());if(n!==p)for(;n!==p;)r.push(n),(n=St())===p&&(n=Tt());else r=p;t=r!==p?f.substring(t,ct):r;t!==p&&(st=e,t=ie(t));return e=t}(),r!==p?(st=e,t=H(r)):(ct=e,p)):(ct=e,p);e===p&&(st=e=ct,t=ce(),e=(t=t?void 0:p)!==p?(r=Ft())!==p?(st=e,t=$(r)):(ct=e,p):(ct=e,p));return e}())!==p?i=[i,c,s]:(ct=u,p):(ct=u,p):(ct=u,p))===p&&(u=null),u!==p?(i=Rt())!==p?(125===f.charCodeAt(ct)?(c=_,ct++):(c=p,0===ht&&xt(S)),c!==p?(st=e,t=W(n,o,u)):(ct=e,p)):(ct=e,p):(ct=e,p)):(ct=e,p):(ct=e,p)):(ct=e,p):(ct=e,p)):(ct=e,p):(ct=e,p):(ct=e,p)):(ct=e,p);return e}());return e}())===p&&(e=function(){var e,t,r,n,a,o,u,i,c,s,l;e=ct,123===f.charCodeAt(ct)?(t=I,ct++):(t=p,0===ht&&xt(k));if(t!==p)if(Rt()!==p)if((r=Zt())!==p)if(Rt()!==p)if(44===f.charCodeAt(ct)?(n=q,ct++):(n=p,0===ht&&xt(J)),n!==p)if(Rt()!==p)if(f.substr(ct,6)===he?(a=he,ct+=6):(a=p,0===ht&&xt(ge)),a===p&&(f.substr(ct,13)===me?(a=me,ct+=13):(a=p,0===ht&&xt(de))),a!==p)if(Rt()!==p)if(44===f.charCodeAt(ct)?(o=q,ct++):(o=p,0===ht&&xt(J)),o!==p)if(Rt()!==p)if(u=ct,f.substr(ct,7)===ye?(i=ye,ct+=7):(i=p,0===ht&&xt(ve)),(u=i!==p?(c=Rt())!==p?(s=Lt())!==p?i=[i,c,s]:(ct=u,p):(ct=u,p):(ct=u,p))===p&&(u=null),u!==p)if((i=Rt())!==p){if(c=[],(s=jt())!==p)for(;s!==p;)c.push(s),s=jt();else c=p;e=c!==p?(s=Rt())!==p?(125===f.charCodeAt(ct)?(l=_,ct++):(l=p,0===ht&&xt(S)),l!==p?(st=e,t=Ae(r,a,u,c)):(ct=e,p)):(ct=e,p):(ct=e,p)}else ct=e,e=p;else ct=e,e=p;else ct=e,e=p;else ct=e,e=p;else ct=e,e=p;else ct=e,e=p;else ct=e,e=p;else ct=e,e=p;else ct=e,e=p;else ct=e,e=p;else ct=e,e=p;else ct=e,e=p;return e}())===p&&(e=function(){var e,t,r,n,a,o,u,i,c;e=ct,123===f.charCodeAt(ct)?(t=I,ct++):(t=p,0===ht&&xt(k));if(t!==p)if(Rt()!==p)if((r=Zt())!==p)if(Rt()!==p)if(44===f.charCodeAt(ct)?(n=q,ct++):(n=p,0===ht&&xt(J)),n!==p)if(Rt()!==p)if(f.substr(ct,6)===be?(a=be,ct+=6):(a=p,0===ht&&xt(we)),a!==p)if(Rt()!==p)if(44===f.charCodeAt(ct)?(o=q,ct++):(o=p,0===ht&&xt(J)),o!==p)if(Rt()!==p){if(u=[],(i=Ot())!==p)for(;i!==p;)u.push(i),i=Ot();else u=p;e=u!==p?(i=Rt())!==p?(125===f.charCodeAt(ct)?(c=_,ct++):(c=p,0===ht&&xt(S)),c!==p?(st=e,t=xe(r,u)):(ct=e,p)):(ct=e,p):(ct=e,p)}else ct=e,e=p;else ct=e,e=p;else ct=e,e=p;else ct=e,e=p;else ct=e,e=p;else ct=e,e=p;else ct=e,e=p;else ct=e,e=p;else ct=e,e=p;else ct=e,e=p;return e}())===p&&(e=function(){var e,t,r,n,a,o;ht++,t=e=ct,60===f.charCodeAt(ct)?(r=l,ct++):(r=p,0===ht&&xt(h));t=r!==p?(n=Bt(),n!==p?(a=Rt())!==p?(f.substr(ct,2)===g?(o=g,ct+=2):(o=p,0===ht&&xt(m)),o!==p?r=[r,n,a,o]:(ct=t,p)):(ct=t,p):(ct=t,p)):(ct=t,p);t!==p&&(st=e,t=d(t));(e=t)===p&&(e=ct,t=function(){var e,t,r,n,a;e=ct,60===f.charCodeAt(ct)?(t=l,ct++):(t=p,0===ht&&xt(h));e=t!==p?(st=ct,r=v(),(r=r?void 0:p)!==p?(n=Bt())!==p?(62===f.charCodeAt(ct)?(a=A,ct++):(a=p,0===ht&&xt(b)),a!==p?(st=ct,(w()?void 0:p)!==p?(st=e,t=x(n)):(ct=e,p)):(ct=e,p)):(ct=e,p):(ct=e,p)):(ct=e,p);return e}(),e=t!==p?(r=Et())!==p?(n=function(){var e,t,r,n,a;e=ct,f.substr(ct,2)===C?(t=C,ct+=2):(t=p,0===ht&&xt(E));e=t!==p?(st=ct,r=D(),(r=r?void 0:p)!==p?(n=Bt())!==p?(62===f.charCodeAt(ct)?(a=A,ct++):(a=p,0===ht&&xt(b)),a!==p?(st=ct,(w()?void 0:p)!==p?(st=e,t=x(n)):(ct=e,p)):(ct=e,p)):(ct=e,p):(ct=e,p)):(ct=e,p);return e}())!==p?(st=e,t=y(t,r,n)):(ct=e,p):(ct=e,p):(ct=e,p));ht--,e===p&&(t=p,0===ht&&xt(s));return e}())===p&&(e=function(){var e,t;e=ct,35===f.charCodeAt(ct)?(t=u,ct++):(t=p,0===ht&&xt(i));t!==p&&(st=e,t=c());return e=t}()),e}function Ft(){var e=ct,t=[],r=Vt();if(r===p&&(r=Mt())===p&&(r=zt()),r!==p)for(;r!==p;)t.push(r),(r=Vt())===p&&(r=Mt())===p&&(r=zt());else t=p;return t!==p&&(st=e,t=a(t)),e=t}function It(){var e,t,r,n,a;if(ht++,t=[],n=r=e=ct,ht++,(a=Nt())===p&&(j.test(f.charAt(ct))?(a=f.charAt(ct),ct++):(a=p,0===ht&&xt(N))),ht--,(r=(n=a===p?void 0:(ct=n,p))!==p?(f.length>ct?(a=f.charAt(ct),ct++):(a=p,0===ht&&xt(P)),a!==p?n=[n,a]:(ct=r,p)):(ct=r,p))!==p)for(;r!==p;)t.push(r),n=r=ct,ht++,(a=Nt())===p&&(j.test(f.charAt(ct))?(a=f.charAt(ct),ct++):(a=p,0===ht&&xt(N))),ht--,r=(n=a===p?void 0:(ct=n,p))!==p?(f.length>ct?(a=f.charAt(ct),ct++):(a=p,0===ht&&xt(P)),a!==p?n=[n,a]:(ct=r,p)):(ct=r,p);else t=p;return e=t!==p?f.substring(e,ct):t,ht--,e===p&&(t=p,0===ht&&xt(O)),e}function kt(){var e,t,r;return ht++,e=ct,47===f.charCodeAt(ct)?(t=L,ct++):(t=p,0===ht&&xt(V)),e=t!==p&&(r=It())!==p?(st=e,t=M(r)):(ct=e,p),ht--,e===p&&(t=p,0===ht&&xt(R)),e}function _t(){var e,t,r,n;if(ht++,e=ct,Rt()!==p)if((t=It())!==p){for(r=[],n=kt();n!==p;)r.push(n),n=kt();e=r!==p?(st=e,Z(t,r)):(ct=e,p)}else ct=e,e=p;else ct=e,e=p;return ht--,e===p&&(0===ht&&xt(z)),e}function St(){var e,t,r,n=ct;if(39===f.charCodeAt(ct)?(e=X,ct++):(e=p,0===ht&&xt(ee)),e!==p){if(t=[],(r=Vt())===p&&(te.test(f.charAt(ct))?(r=f.charAt(ct),ct++):(r=p,0===ht&&xt(re))),r!==p)for(;r!==p;)t.push(r),(r=Vt())===p&&(te.test(f.charAt(ct))?(r=f.charAt(ct),ct++):(r=p,0===ht&&xt(re)));else t=p;n=t!==p?(39===f.charCodeAt(ct)?(r=X,ct++):(r=p,0===ht&&xt(ee)),r!==p?e=[e,t,r]:(ct=n,p)):(ct=n,p)}else ct=n,n=p;if(n===p)if(n=[],(e=Vt())===p&&(ne.test(f.charAt(ct))?(e=f.charAt(ct),ct++):(e=p,0===ht&&xt(ae))),e!==p)for(;e!==p;)n.push(e),(e=Vt())===p&&(ne.test(f.charAt(ct))?(e=f.charAt(ct),ct++):(e=p,0===ht&&xt(ae)));else n=p;return n}function Tt(){var e,t=[];if(oe.test(f.charAt(ct))?(e=f.charAt(ct),ct++):(e=p,0===ht&&xt(ue)),e!==p)for(;e!==p;)t.push(e),oe.test(f.charAt(ct))?(e=f.charAt(ct),ct++):(e=p,0===ht&&xt(ue));else t=p;return t}function Ot(){var e,t,r,n,a=ct,o=Rt();return a=o!==p&&(e=Gt())!==p&&Rt()!==p?(123===f.charCodeAt(ct)?(t=I,ct++):(t=p,0===ht&&xt(k)),t!==p?(st=ct,(De()?void 0:p)!==p&&(r=Et())!==p?(125===f.charCodeAt(ct)?(n=_,ct++):(n=p,0===ht&&xt(S)),n!==p?(st=a,o=Fe(e,r)):(ct=a,p)):(ct=a,p)):(ct=a,p)):(ct=a,p)}function jt(){var e,t,r,n,a,o,u,i,c=ct,s=Rt();return c=s!==p?(i=u=ct,61===f.charCodeAt(ct)?(a=Ce,ct++):(a=p,0===ht&&xt(Ee)),(u=(i=a!==p&&(o=Lt())!==p?a=[a,o]:(ct=i,p))!==p?f.substring(u,ct):i)===p&&(u=Gt()),(e=u)!==p&&Rt()!==p?(123===f.charCodeAt(ct)?(t=I,ct++):(t=p,0===ht&&xt(k)),t!==p?(st=ct,(Ie()?void 0:p)!==p&&(r=Et())!==p?(125===f.charCodeAt(ct)?(n=_,ct++):(n=p,0===ht&&xt(S)),n!==p?(st=c,s=ke(e,r)):(ct=c,p)):(ct=c,p)):(ct=c,p)):(ct=c,p)):(ct=c,p)}function Nt(){var e;return ht++,Se.test(f.charAt(ct))?(e=f.charAt(ct),ct++):(e=p,0===ht&&xt(Te)),ht--,e===p&&0===ht&&xt(_e),e}function Pt(){var e;return ht++,je.test(f.charAt(ct))?(e=f.charAt(ct),ct++):(e=p,0===ht&&xt(Ne)),ht--,e===p&&0===ht&&xt(Oe),e}function Rt(){var e,t,r;for(ht++,e=ct,t=[],r=Nt();r!==p;)t.push(r),r=Nt();return e=t!==p?f.substring(e,ct):t,ht--,e===p&&(t=p,0===ht&&xt(Pe)),e}function Lt(){var e,t,r;return ht++,e=ct,45===f.charCodeAt(ct)?(t=Le,ct++):(t=p,0===ht&&xt(Ve)),t===p&&(t=null),e=t!==p&&(r=Ut())!==p?(st=e,t=Me(t,r)):(ct=e,p),ht--,e===p&&(t=p,0===ht&&xt(Re)),e}function Vt(){var e,t;return ht++,e=ct,f.substr(ct,2)===Ze?(t=Ze,ct+=2):(t=p,0===ht&&xt(Be)),t!==p&&(st=e,t=Ue()),ht--,(e=t)===p&&(t=p,0===ht&&xt(ze)),e}function Mt(){var e,t,r,n,a,o=ct;if(39===f.charCodeAt(ct)?(e=X,ct++):(e=p,0===ht&&xt(ee)),e!==p)if((t=function(){var e,t,r,n;t=e=ct,f.length>ct?(r=f.charAt(ct),ct++):(r=p,0===ht&&xt(P));t=r!==p?(st=ct,n=qe(r),(n=n?void 0:p)!==p?r=[r,n]:(ct=t,p)):(ct=t,p);e=t!==p?f.substring(e,ct):t;return e}())!==p){for(r=ct,n=[],f.substr(ct,2)===Ze?(a=Ze,ct+=2):(a=p,0===ht&&xt(Be)),a===p&&(te.test(f.charAt(ct))?(a=f.charAt(ct),ct++):(a=p,0===ht&&xt(re)));a!==p;)n.push(a),f.substr(ct,2)===Ze?(a=Ze,ct+=2):(a=p,0===ht&&xt(Be)),a===p&&(te.test(f.charAt(ct))?(a=f.charAt(ct),ct++):(a=p,0===ht&&xt(re)));o=(r=n!==p?f.substring(r,ct):n)!==p?(39===f.charCodeAt(ct)?(n=X,ct++):(n=p,0===ht&&xt(ee)),n===p&&(n=null),n!==p?(st=o,e=Ge(t,r)):(ct=o,p)):(ct=o,p)}else ct=o,o=p;else ct=o,o=p;return o}function zt(){var e,t,r=ct,n=ct;return f.length>ct?(e=f.charAt(ct),ct++):(e=p,0===ht&&xt(P)),(n=e!==p?(st=ct,(t=(t=He(e))?void 0:p)!==p?e=[e,t]:(ct=n,p)):(ct=n,p))===p&&(10===f.charCodeAt(ct)?(n=Ye,ct++):(n=p,0===ht&&xt($e))),r=n!==p?f.substring(r,ct):n}function Zt(){var e,t;return ht++,e=ct,(t=Ut())===p&&(t=Gt()),e=t!==p?f.substring(e,ct):t,ht--,e===p&&(t=p,0===ht&&xt(Je)),e}function Bt(){var e,t;return ht++,e=ct,(t=Ut())===p&&(t=function(){var e,t,r,n,a;ht++,e=ct,t=[],45===f.charCodeAt(ct)?(r=Le,ct++):(r=p,0===ht&&xt(Ve));r===p&&(n=r=ct,ht++,(a=Nt())===p&&(a=Pt()),ht--,n=a===p?void 0:(ct=n,p),r=n!==p?(f.length>ct?(a=f.charAt(ct),ct++):(a=p,0===ht&&xt(P)),a!==p?n=[n,a]:(ct=r,p)):(ct=r,p));if(r!==p)for(;r!==p;)t.push(r),45===f.charCodeAt(ct)?(r=Le,ct++):(r=p,0===ht&&xt(Ve)),r===p&&(n=r=ct,ht++,(a=Nt())===p&&(a=Pt()),ht--,n=a===p?void 0:(ct=n,p),r=n!==p?(f.length>ct?(a=f.charAt(ct),ct++):(a=p,0===ht&&xt(P)),a!==p?n=[n,a]:(ct=r,p)):(ct=r,p));else t=p;e=t!==p?f.substring(e,ct):t;ht--,e===p&&(t=p,0===ht&&xt(it));return e}()),e=t!==p?f.substring(e,ct):t,ht--,e===p&&(t=p,0===ht&&xt(Ke)),e}function Ut(){var e,t,r,n,a;if(ht++,e=ct,48===f.charCodeAt(ct)?(t=We,ct++):(t=p,0===ht&&xt(Xe)),t!==p&&(st=e,t=et()),(e=t)===p){if(t=e=ct,tt.test(f.charAt(ct))?(r=f.charAt(ct),ct++):(r=p,0===ht&&xt(rt)),r!==p){for(n=[],nt.test(f.charAt(ct))?(a=f.charAt(ct),ct++):(a=p,0===ht&&xt(at));a!==p;)n.push(a),nt.test(f.charAt(ct))?(a=f.charAt(ct),ct++):(a=p,0===ht&&xt(at));t=n!==p?r=[r,n]:(ct=t,p)}else ct=t,t=p;t!==p&&(st=e,t=ot(t)),e=t}return ht--,e===p&&(t=p,0===ht&&xt(Qe)),e}function Gt(){var e,t,r,n,a;if(ht++,t=[],n=r=e=ct,ht++,(a=Nt())===p&&(a=Pt()),ht--,(r=(n=a===p?void 0:(ct=n,p))!==p?(f.length>ct?(a=f.charAt(ct),ct++):(a=p,0===ht&&xt(P)),a!==p?n=[n,a]:(ct=r,p)):(ct=r,p))!==p)for(;r!==p;)t.push(r),n=r=ct,ht++,(a=Nt())===p&&(a=Pt()),ht--,r=(n=a===p?void 0:(ct=n,p))!==p?(f.length>ct?(a=f.charAt(ct),ct++):(a=p,0===ht&&xt(P)),a!==p?n=[n,a]:(ct=r,p)):(ct=r,p);else t=p;return e=t!==p?f.substring(e,ct):t,ht--,e===p&&(t=p,0===ht&&xt(ut)),e}var Ht,Yt,$t,qt=["root"];function Jt(){return 1<qt.length}function Kt(){return"plural"===qt[qt.length-1]}function Qt(){return e&&e.captureLocation?{location:mt()}:{}}function Wt(){return e&&e.ignoreTag}if((t=n())!==p&&ct===f.length)return t;throw t!==p&&ct<f.length&&xt({type:"end"}),Ht=pt,Yt=ft<f.length?f.charAt(ft):null,$t=ft<f.length?wt(ft,ft+1):wt(ft,ft),new tr(tr.buildMessage(Ht,Yt),Ht,Yt,$t)},p=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var o=arguments[t],u=0,i=o.length;u<i;u++,a++)n[a]=o[u];return n},h=/(^|[^\\])#/g;var c=function(){return(c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},s=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function I(e){var r={};return e.replace(s,function(e){var t=e.length;switch(e[0]){case"G":r.era=4===t?"long":5===t?"narrow":"short";break;case"y":r.year=2===t?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":r.month=["numeric","2-digit","short","long","narrow"][t-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":r.day=["numeric","2-digit"][t-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":r.weekday=4!==t&&5===t?"narrow":"short";break;case"e":if(t<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");r.weekday=["short","long","narrow","short"][t-4];break;case"c":if(t<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");r.weekday=["short","long","narrow","short"][t-4];break;case"a":r.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":r.hourCycle="h12",r.hour=["numeric","2-digit"][t-1];break;case"H":r.hourCycle="h23",r.hour=["numeric","2-digit"][t-1];break;case"K":r.hourCycle="h11",r.hour=["numeric","2-digit"][t-1];break;case"k":r.hourCycle="h24",r.hour=["numeric","2-digit"][t-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":r.minute=["numeric","2-digit"][t-1];break;case"s":r.second=["numeric","2-digit"][t-1];break;case"S":case"A":throw new RangeError("`S/A` (second) pattenrs are not supported, use `s` instead");case"z":r.timeZoneName=t<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) pattenrs are not supported, use `z` instead")}return""}),r}var l=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,g=/^(@+)?(\+|#+)?$/g;function m(e){var n={};return e.replace(g,function(e,t,r){return"string"!=typeof r?(n.minimumSignificantDigits=t.length,n.maximumSignificantDigits=t.length):"+"===r?n.minimumSignificantDigits=t.length:"#"===t[0]?n.maximumSignificantDigits=t.length:(n.minimumSignificantDigits=t.length,n.maximumSignificantDigits=t.length+("string"==typeof r?r.length:0)),""}),n}function d(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":return{currencySign:"accounting"};case"sign-always":return{signDisplay:"always"};case"sign-accounting-always":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":return{signDisplay:"never"}}}function y(e){var t=d(e);return t||{}}function k(e){for(var u={},t=0,r=e;t<r.length;t++){var n,a=r[t];switch(a.stem){case"percent":u.style="percent";continue;case"currency":u.style="currency",u.currency=a.options[0];continue;case"group-off":u.useGrouping=!1;continue;case"precision-integer":case".":u.maximumFractionDigits=0;continue;case"measure-unit":u.style="unit",u.unit=a.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":u.notation="compact",u.compactDisplay="short";continue;case"compact-long":u.notation="compact",u.compactDisplay="long";continue;case"scientific":u=c(c(c({},u),{notation:"scientific"}),a.options.reduce(function(e,t){return c(c({},e),y(t))},{}));continue;case"engineering":u=c(c(c({},u),{notation:"engineering"}),a.options.reduce(function(e,t){return c(c({},e),y(t))},{}));continue;case"notation-simple":u.notation="standard";continue;case"unit-width-narrow":u.currencyDisplay="narrowSymbol",u.unitDisplay="narrow";continue;case"unit-width-short":u.currencyDisplay="code",u.unitDisplay="short";continue;case"unit-width-full-name":u.currencyDisplay="name",u.unitDisplay="long";continue;case"unit-width-iso-code":u.currencyDisplay="symbol";continue}if(l.test(a.stem)){if(1<a.options.length)throw new RangeError("Fraction-precision stems only accept a single optional option");a.stem.replace(l,function(e,t,r,n,a,o){return"*"===r?u.minimumFractionDigits=t.length:n&&"#"===n[0]?u.maximumFractionDigits=n.length:a&&o?(u.minimumFractionDigits=a.length,u.maximumFractionDigits=a.length+o.length):(u.minimumFractionDigits=t.length,u.maximumFractionDigits=t.length),""}),a.options.length&&(u=c(c({},u),m(a.options[0])))}else{g.test(a.stem)?u=c(c({},u),m(a.stem)):(n=d(a.stem))&&(u=c(c({},u),n))}}return u}function v(e,t){var r=f(e,t);return t&&!1===t.normalizeHashtagInPlural||function l(e){e.forEach(function(s){(D(s)||E(s))&&Object.keys(s.options).forEach(function(e){for(var t,r,n,a=s.options[e],o=-1,u=void 0,i=0;i<a.value.length;i++){var c=a.value[i];if(C(c)&&h.test(c.value)){o=i,u=c;break}}u&&(r=u.value.replace(h,"$1{"+s.value+", number}"),n=f(r),(t=a.value).splice.apply(t,p([o,1],n))),l(a.value)})})}(r),r}var A=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var o=arguments[t],u=0,i=o.length;u<i;u++,a++)n[a]=o[u];return n};function b(e){return JSON.stringify(e.map(function(e){return e&&"object"==typeof e?(r=e,Object.keys(r).sort().map(function(e){var t={};return t[e]=r[e],t})):e;var r}))}var w,x,_=function(a,o){return void 0===o&&(o={}),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=b(e),n=r&&o[r];return n||(n=new(a.bind.apply(a,A([void 0],e))),r&&(o[r]=n)),n}},S=(w=function(e,t){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});(x=e.ErrorCode||(e.ErrorCode={})).MISSING_VALUE="MISSING_VALUE",x.INVALID_VALUE="INVALID_VALUE",x.MISSING_INTL_API="MISSING_INTL_API";var T,O=(T=Error,S(j,T),j.prototype.toString=function(){return"[formatjs Error: "+this.code+"] "+this.message},j);function j(e,t,r){var n=T.call(this,e)||this;return n.code=t,n.originalMessage=r,n}var N,P=(S(R,N=O),R);function R(e,t,r,n){return N.call(this,'Invalid values for "'+e+'": "'+t+'". Options are "'+Object.keys(r).join('", "')+'"',"INVALID_VALUE",n)||this}var L,V=(S(M,L=O),M);function M(e,t,r){return L.call(this,'Value for "'+e+'" must be of type '+t,"INVALID_VALUE",r)||this}var z,Z,B=(S(U,z=O),U);function U(e,t){return z.call(this,'The intl string context variable "'+e+'" was not provided to the string "'+t+'"',"MISSING_VALUE",t)||this}function G(e,t,r,n,a,o,u){if(1===e.length&&C(e[0]))return[{type:0,value:e[0].value}];for(var i,c,s=[],l=0,f=e;l<f.length;l++){var p=f[l];if(C(p))s.push({type:0,value:p.value});else if(p.type!==Xt.pound){var h=p.value;if(!(a&&h in a))throw new B(h,u);var g,m=a[h];if(p.type!==Xt.argument)if(p.type!==Xt.date)if(p.type!==Xt.time)if(p.type!==Xt.number){if(p.type===Xt.tag){var d=p.children,y=p.value,v=a[y];if("function"!=typeof v)throw new V(y,"function",u);var A=G(d,t,r,n,a,o),b=v.apply(void 0,A.map(function(e){return e.value}));Array.isArray(b)||(b=[b]),s.push.apply(s,b.map(function(e){return{type:"string"==typeof e?0:1,value:e}}))}if(E(p)){if(!(g=p.options[m]||p.options.other))throw new P(p.value,m,Object.keys(p.options),u);s.push.apply(s,G(g.value,t,r,n,a))}else if(D(p)){if(!(g=p.options["="+m])){if(!Intl.PluralRules)throw new O('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',"MISSING_INTL_API",u);var w=r.getPluralRules(t,{type:p.pluralType}).select(m-(p.offset||0));g=p.options[w]||p.options.other}if(!g)throw new P(p.value,m,Object.keys(p.options),u);s.push.apply(s,G(g.value,t,r,n,a,m-(p.offset||0)))}else;}else{x="string"==typeof p.style?n.number[p.style]:(i=p.style)&&"object"==typeof i&&0===i.type?k(p.style.tokens):void 0;s.push({type:0,value:r.getNumberFormat(t,x).format(m)})}else{var x="string"==typeof p.style?n.time[p.style]:F(p.style)?I(p.style.pattern):void 0;s.push({type:0,value:r.getDateTimeFormat(t,x).format(m)})}else{var x="string"==typeof p.style?n.date[p.style]:F(p.style)?I(p.style.pattern):void 0;s.push({type:0,value:r.getDateTimeFormat(t,x).format(m)})}else m&&"string"!=typeof m&&"number"!=typeof m||(m="string"==typeof m||"number"==typeof m?String(m):""),s.push({type:"string"==typeof m?0:1,value:m})}else"number"==typeof o&&s.push({type:0,value:r.getNumberFormat(t).format(o)})}return(c=s).length<2?c:c.reduce(function(e,t){var r=e[e.length-1];return r&&0===r.type&&0===t.type?r.value+=t.value:e.push(t),e},[])}(Z=e.PART_TYPE||(e.PART_TYPE={}))[Z.literal=0]="literal",Z[Z.object=1]="object";var H=function(){return(H=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function Y(a,o){return o?Object.keys(a).reduce(function(e,t){var r,n;return e[t]=(r=a[t],(n=o[t])?H(H(H({},r||{}),n||{}),Object.keys(r).reduce(function(e,t){return e[t]=H(H({},r[t]),n[t]||{}),e},{})):r),e},H({},a)):a}function $(e){return void 0===e&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:_(Intl.NumberFormat,e.number),getDateTimeFormat:_(Intl.DateTimeFormat,e.dateTime),getPluralRules:_(Intl.PluralRules,e.pluralRules)}}var q=(Object.defineProperty(J,"defaultLocale",{get:function(){return J.memoizedDefaultLocale||(J.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),J.memoizedDefaultLocale},enumerable:!0,configurable:!0}),J.memoizedDefaultLocale=null,J.__parse=v,J.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},J);function J(e,t,r,n){var a=this;if(void 0===t&&(t=J.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=a.formatToParts(e);if(1===t.length)return t[0].value;var r=t.reduce(function(e,t){return e.length&&0===t.type&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e},[]);return r.length<=1?r[0]||"":r},this.formatToParts=function(e){return G(a.ast,a.locales,a.formatters,a.formats,e,void 0,a.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(a.locales)[0]}},this.getAst=function(){return a.ast},"string"==typeof e){if(this.message=e,!J.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=J.__parse(e,{normalizeHashtagInPlural:!1,ignoreTag:null==n?void 0:n.ignoreTag})}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Y(J.formats,r),this.locales=t,this.formatters=n&&n.formatters||$(this.formatterCache)}e.FormatError=O,e.IntlMessageFormat=q,e.InvalidValueError=P,e.InvalidValueTypeError=V,e.MissingValueError=B,e.createDefaultFormatters=$,e.default=q,e.formatToParts=G,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=intl-messageformat.min.js.map
